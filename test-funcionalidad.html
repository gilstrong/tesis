<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test de Funcionalidad</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .test { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
    .ok { background: #d4edda; }
    .error { background: #f8d7da; }
  </style>
</head>
<body>
  <h1>üîç Test de Funcionalidades</h1>
  <div id="resultados"></div>
  
  <script src="scriptgeneral-v2.js"></script>
  
  <script>
    const resultados = document.getElementById('resultados');
    
    function test(nombre, condicion) {
      const div = document.createElement('div');
      div.className = 'test ' + (condicion ? 'ok' : 'error');
      div.textContent = (condicion ? '‚úÖ' : '‚ùå') + ' ' + nombre;
      resultados.appendChild(div);
      console.log((condicion ? '‚úÖ' : '‚ùå'), nombre);
    }
    
    // Esperar a que cargue
    setTimeout(() => {
      test('Variable carrito existe', typeof carrito !== 'undefined');
      test('Funci√≥n agregarImpresion existe', typeof agregarImpresion === 'function');
      test('Funci√≥n agregarEncuadernado existe', typeof agregarEncuadernado === 'function');
      test('Funci√≥n agregarEmpastado existe', typeof agregarEmpastado === 'function');
      test('Funci√≥n agregarPloteo existe', typeof agregarPloteo === 'function');
      test('Funci√≥n agregarPlastificado existe', typeof agregarPlastificado === 'function');
      test('Funci√≥n eliminarDelCarrito existe', typeof eliminarDelCarrito === 'function');
      test('Funci√≥n limpiarCarrito existe', typeof limpiarCarrito === 'function');
      test('Funci√≥n actualizarCarrito existe', typeof actualizarCarrito === 'function');
      test('Funci√≥n calcularPrecioImpresion existe', typeof calcularPrecioImpresion === 'function');
      test('Funci√≥n calcularPrecioEncuadernado existe', typeof calcularPrecioEncuadernado === 'function');
      test('Funci√≥n calcularPrecioEmpastado existe', typeof calcularPrecioEmpastado === 'function');
      test('Funci√≥n calcularPrecioPloteo existe', typeof calcularPrecioPloteo === 'function');
      test('Funci√≥n calcularPrecioPlastificado existe', typeof calcularPrecioPlastificado === 'function');
      
      // Test de c√°lculos
      test('C√°lculo B/N 100 p√°ginas = 150', calcularPrecioImpresion(100, 'bn') === 150);
      test('C√°lculo Color 30 p√°ginas = 450', calcularPrecioImpresion(30, 'color') === 450);
      test('C√°lculo Encuadernado 75 p√°ginas = 120', calcularPrecioEncuadernado(75) === 120);
      test('C√°lculo Empastado Tapa Dura Carta = 600', calcularPrecioEmpastado('Tapa Dura', 'carta') === 600);
      
    }, 500);
  </script>
</body>
</html>